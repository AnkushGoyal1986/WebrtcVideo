<html>
<body>
<div></div>
<video autoplay></video>
</body>

<script>
const constraints = {
  video: true,
  audio: true
};

const video = document.querySelector('video');
const divs = document.querySelector('div');


(async () => {   
  await navigator.mediaDevices.getUserMedia({audio: true, video: true});   
  let devices = await navigator.mediaDevices.enumerateDevices();   
  console.log(devices); 
})();

navigator.mediaDevices.getUserMedia(constraints).
  then(
  	(stream) => {video.srcObject = stream;
  	}


);

// navigator.mediaDevices.enumerateDevices()
// .then(function(devices) {
//   devices.forEach(function(device) {  	
//   	console.log(device);
//   	// divs.appendChild(device.kind + ": " + device.label +
//    //              " id = " + device.deviceId);
//     console.log(device.kind + ": " + device.label + " id = " + device.deviceId);
//   });
// })
// .catch(function(err) {
//   console.log(err.name + ": " + err.message);
// });


</script>
</html>
